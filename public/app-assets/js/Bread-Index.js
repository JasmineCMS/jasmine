/*! For license information please see Bread-Index.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[100],{3404:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(9726),o={class:"d-flex align-items-center p-2"},a={key:0,class:"btn-group btn-group-sm"},l={class:"px-1 px-lg-4"},c={class:"d-flex"},i=["textContent","onClick"],u=["onInput"],s=["value","textContent"],d=["textContent"],f={key:0,class:"btn btn-sm dnd-handler",type:"button"},p={class:"d-flex align-items-center"},m=["href","title"],b=["title","onClick"];var y=n(9137);function k(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var i=r&&r.prototype instanceof c?r:c,u=Object.create(i.prototype);return v(u,"_invoke",function(n,r,o){var a,c,i,u=0,s=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,c=0,i=e,f.n=n,l}};function p(n,r){for(c=n,i=r,t=0;!d&&u&&!o&&t<s.length;t++){var o,a=s[t],p=f.p,m=a[2];n>3?(o=m===r)&&(i=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=n<2&&p<a[1])?(c=0,f.v=r,f.n=a[1]):p<m&&(o=n<3||a[0]>r||r>m)&&(a[4]=n,a[5]=r,f.n=m,c=0))}if(o||n>1)return l;throw d=!0,r}return function(o,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&p(s,m),c=s,i=m;(t=c<2?e:i)||!d;){a||(c?c<3?(c>1&&(f.n=-1),p(c,i)):f.n=i:f.v=i);try{if(u=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(d=f.n<0)?i:n.call(r,f))!==l)break}catch(t){a=e,c=1,i=t}finally{u=1}}return{value:t,done:d}}}(n,o,a),!0),u}var l={};function c(){}function i(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(v(t={},r,function(){return this}),t),d=u.prototype=c.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,v(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return i.prototype=u,v(d,"constructor",u),v(u,"constructor",i),i.displayName="GeneratorFunction",v(u,o,"GeneratorFunction"),v(d),v(d,o,"Generator"),v(d,r,function(){return this}),v(d,"toString",function(){return"[object Generator]"}),(k=function(){return{w:a,m:f}})()}function v(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}v=function(e,t,n,r){function a(t,n){v(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},v(e,t,n,r)}function h(e,t,n,r,o,a,l){try{var c=e[a](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,o)}function x(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function l(e){h(a,r,o,l,c,"next",e)}function c(e){h(a,r,o,l,c,"throw",e)}l(void 0)})}}const C={name:"BreadIndex",props:{can:{type:Array,required:!0},b:{type:Object,required:!0},paginator:{type:Object,required:!0},columns:{type:Array,required:!0},locale:{type:String}},data:function(){return{searchable:!0}},methods:{del:function(e,t){var n=this;return x(k().m(function r(){return k().w(function(r){for(;;)switch(r.n){case 0:return r.n=1,y.A.fire({title:n.$t("Are you sure?"),text:n.$t("Are you sure you want to delete")+" "+t.jasmine_title,icon:"warning",showCancelButton:!0,cancelButtonText:n.$t("Cancel"),confirmButtonText:n.$t("Ok")});case 1:if(r.v.isConfirmed){r.n=2;break}return r.a(2,!1);case 2:return n.$inertia.delete(n.route("jasmine.bread.delete",{breadableName:n.b.key,breadableId:e})),r.a(2,!0)}},r)}))()},initSort:function(e,t){if(t.sortBy=e.data,t.sort="asc",t.q="",e.groups){var n=Object.keys(e.groups);n.length&&(t.sortGroup=e.groups[n[0]].v)}},reorder:function(e){var t=this;return x(k().m(function n(){var r,o;return k().w(function(n){for(;;)switch(n.n){case 0:if(r=t.columns.find(function(e){return"j_actions"===e.id})){n.n=1;break}return n.a(2);case 1:o={},e.forEach(function(e,t){o[e[r.data]]=t+1}),t.$inertia.put(t.route("jasmine.bread.reorder",{breadableName:t.b.key}),{order:o});case 2:return n.a(2)}},n)}))()},fake:function(){var e=this;return x(k().m(function t(){var n,r,o;return k().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,y.A.fire({icon:"question",title:e.$t("How many?"),showCancelButton:!0,showConfirmButton:!0,input:"number",inputValue:1});case 1:if(n=t.v,r=n.isConfirmed,o=n.value,r){t.n=2;break}return t.a(2);case 2:e.$inertia.post(e.route("jasmine.bread.fake",{breadableName:e.b.key}),{count:o},{preserveState:!1});case 3:return t.a(2)}},t)}))()}}};const g=(0,n(6262).A)(C,[["render",function(e,t,n,y,k,v){var h=(0,r.resolveComponent)("Head"),x=(0,r.resolveComponent)("inertia-link"),C=(0,r.resolveComponent)("DataTable"),g=(0,r.resolveComponent)("Layout");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createVNode)(h,{title:e.$t(n.b.plural)},null,8,["title"]),(0,r.createVNode)(g,null,{pageActions:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",o,[n.locale?((0,r.openBlock)(),(0,r.createElementBlock)("div",a,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.$globals.locales,function(e){return(0,r.openBlock)(),(0,r.createBlock)(x,{href:"",data:{_locale:e},textContent:(0,r.toDisplayString)(e),class:(0,r.normalizeClass)(["btn btn-outline-primary text-uppercase",{active:e===n.locale}])},null,8,["data","textContent","class"])}),256))])):(0,r.createCommentVNode)("",!0)])]}),default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",l,[(0,r.createVNode)(C,{paginator:n.paginator,columns:n.columns,ref:"dt",searchable:k.searchable,onReordered:v.reorder},{tableActions:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",c,["production"!==e.$globals.env&&(n.can.indexOf("a")>-1||n.can.indexOf("e")>-1)?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,type:"button",onClick:t[0]||(t[0]=function(){return v.fake&&v.fake.apply(v,arguments)}),class:"btn text-info d-flex align-items-center"},[t[2]||(t[2]=(0,r.createElementVNode)("i",{class:"fs-3 fas fa-tractor"},null,-1)),t[3]||(t[3]=(0,r.createElementVNode)("span",{class:"mx-1"},null,-1)),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.$t("Fake")),1)])):(0,r.createCommentVNode)("",!0),t[6]||(t[6]=(0,r.createElementVNode)("div",{class:"mx-2"},null,-1)),n.can.indexOf("a")>-1?((0,r.openBlock)(),(0,r.createBlock)(x,{key:1,href:e.route("jasmine.bread.create",{breadableName:n.b.key}),class:"btn text-primary d-flex align-items-center",title:"Create"},{default:(0,r.withCtx)(function(){return[t[4]||(t[4]=(0,r.createElementVNode)("i",{class:"fs-3 bi bi-plus-circle-fill"},null,-1)),t[5]||(t[5]=(0,r.createElementVNode)("span",{class:"mx-1"},null,-1)),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.$t("New")),1)]}),_:1,__:[4,5]},8,["href"])):(0,r.createCommentVNode)("",!0)])]}),h_j_sort:(0,r.withCtx)(function(e){var n=e.col,o=e.q;return[(0,r.createElementVNode)("div",null,[(0,r.createElementVNode)("div",{style:{cursor:"pointer"},textContent:(0,r.toDisplayString)(n.label),onClick:function(e){return v.initSort(n,o)}},null,8,i),n.groups&&o.sortBy===n.data?((0,r.openBlock)(),(0,r.createElementBlock)("select",{key:0,onClick:t[1]||(t[1]=(0,r.withModifiers)(function(){},["prevent"])),onInput:function(e){return o.sortGroup=e.target.value}},[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(n.groups,function(e){return(0,r.openBlock)(),(0,r.createElementBlock)("option",{key:e.v,value:e.v,textContent:(0,r.toDisplayString)(e.l||e.v)},null,8,s)}),128))],40,u)):(0,r.createCommentVNode)("",!0)])]}),j_sort:(0,r.withCtx)(function(e){var n=e.v,o=(e.r,e.col),a=e.q;return[(0,r.createElementVNode)("span",{textContent:(0,r.toDisplayString)(n)},null,8,d),a.sortBy===o.data?((0,r.openBlock)(),(0,r.createElementBlock)("button",f,t[7]||(t[7]=[(0,r.createElementVNode)("i",{class:"bi bi-arrows-expand fs-6"},null,-1)]))):(0,r.createCommentVNode)("",!0)]}),j_actions:(0,r.withCtx)(function(o){var a=o.v,l=o.r;return[(0,r.createElementVNode)("div",p,[l.jasmine_public_url?((0,r.openBlock)(),(0,r.createElementBlock)("a",{key:0,target:"_blank",href:l.jasmine_public_url,title:e.$t("View"),class:"btn"},t[8]||(t[8]=[(0,r.createElementVNode)("i",{class:"bi bi-link",style:{"font-size":"1.5rem"}},null,-1)]),8,m)):(0,r.createCommentVNode)("",!0),n.can.indexOf("r")>-1?((0,r.openBlock)(),(0,r.createBlock)(x,{key:1,class:"btn",title:e.$t("Edit"),href:e.route("jasmine.bread.edit",{breadableName:n.b.key,breadableId:a})},{default:(0,r.withCtx)(function(){return t[9]||(t[9]=[(0,r.createElementVNode)("i",{class:"bi bi-pencil"},null,-1)])}),_:2,__:[9]},1032,["title","href"])):(0,r.createCommentVNode)("",!0),n.can.indexOf("d")>-1?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:2,type:"button",class:"btn",title:e.$t("Delete"),onClick:function(e){return v.del(a,l)}},t[10]||(t[10]=[(0,r.createElementVNode)("i",{class:"bi bi-trash3"},null,-1)]),8,b)):(0,r.createCommentVNode)("",!0)])]}),_:1},8,["paginator","columns","searchable","onReordered"])])]}),_:1})],64)}]])}}]);
//# sourceMappingURL=Bread-Index.js.map?id=0e2ad575719bce41