"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[669],{2053:(e,t,l)=>{l.r(t),l.d(t,{default:()=>L});var n=l(821),o={class:"breadcrumb-item"},a={class:"d-flex align-items-center p-2"},r={key:0,class:"btn-group btn-group-sm"},i=(0,n.createElementVNode)("div",{class:"mx-3"},null,-1),s=["disabled"],c={key:0,role:"status","aria-hidden":"true",class:"spinner-border spinner-border-sm"},d={class:"card-body"},m=["textContent"],p={class:"row"},u={class:"d-flex flex-column mt-1"},f=["onClick","title"],b=[(0,n.createElementVNode)("i",{class:"bi bi-x-circle fs-6"},null,-1)],k=["title"],v=[(0,n.createElementVNode)("i",{class:"bi bi-arrows-expand fs-6"},null,-1)],y={class:"form-group flex-fill my-2"},V=["for"],C=["textContent"],N=["id","textContent"],x={class:"mb-5"},E=["onClick","disabled","title"],g=(0,n.createElementVNode)("i",{class:"bi bi-plus-circle-fill fs-6"},null,-1),h=(0,n.createElementVNode)("span",{class:"px-1"},null,-1),B=["textContent"],S=["for","textContent"],w=["id","textContent"],D={key:1,class:"invalid-feedback",role:"alert"},F=["textContent"];const $={name:"BreadEdit",props:{b:{type:Object,required:!0},entId:{type:[String,Number]},ent:{type:Object,required:!0},title:{type:String},locale:{type:String},fm_path:{type:String,default:""}},data:function(){var e=this,t={};return this.b.fields.forEach((function(l){t[l.name]=l.repeats>1?[]:JSON.parse(JSON.stringify({v:l.default})).v,e.entId&&void 0!==e.ent[l.name]&&(t[l.name]=JSON.parse(JSON.stringify({v:e.ent[l.name]})).v,l.repeats>1&&t[l.name].length&&t[l.name].forEach((function(e,n){return null===e&&(t[l.name][n]="")})))})),{form:this.$inertia.form({v:t})}},methods:{repeatField:function(e){this.form.v[e.name].push(JSON.parse(JSON.stringify({v:e.default})).v)},removeRepeatedField:function(e,t){this.form.v[e].splice(t,1)}},computed:{isLocaleRtl:function(){return["ar","dv","fa","ha","he","ks","ku","ps","sd","ur","yi"].indexOf(this.locale)>-1}},provide:function(){return{fm_path:this.fm_path}}};const L=(0,l(3744).Z)($,[["render",function(e,t,l,$,L,O){var _=(0,n.resolveComponent)("Head"),R=(0,n.resolveComponent)("inertia-link"),z=(0,n.resolveComponent)("draggable"),J=(0,n.resolveComponent)("Layout");return(0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,null,[(0,n.createVNode)(_,{title:l.entId?e.$t("Edit")+" "+l.title:e.$t("New")},null,8,["title"]),(0,n.createVNode)(J,null,{breadcrumbs:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("li",o,[(0,n.createVNode)(R,{href:e.route("jasmine.bread.index",{breadableName:l.b.key}),textContent:(0,n.toDisplayString)(e.$t(l.b.plural))},null,8,["href","textContent"])])]})),pageActions:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("div",a,[l.locale?((0,n.openBlock)(),(0,n.createElementBlock)("div",r,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.$globals.locales,(function(e){return(0,n.openBlock)(),(0,n.createBlock)(R,{href:"",data:{_locale:e},textContent:(0,n.toDisplayString)(e),class:(0,n.normalizeClass)(["btn btn-outline-primary text-uppercase",{active:e===l.locale}])},null,8,["data","textContent","class"])})),256))])):(0,n.createCommentVNode)("",!0),i,(0,n.createElementVNode)("button",{onClick:t[0]||(t[0]=function(t){return e.$refs.form.reportValidity()&&L.form.post("")}),type:"button",class:(0,n.normalizeClass)(["btn btn-sm px-5",{"btn-primary":L.form.isDirty,"btn-secondary":!L.form.isDirty}]),disabled:L.form.processing},[L.form.processing?((0,n.openBlock)(),(0,n.createElementBlock)("span",c)):(0,n.createCommentVNode)("",!0),(0,n.createTextVNode)(" "+(0,n.toDisplayString)(e.$t("Save")),1)],10,s)])]})),default:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("form",{ref:"form",onSubmit:t[1]||(t[1]=(0,n.withModifiers)((function(e){return L.form.post("")}),["prevent"]))},[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["bread-edit row",{"writing-rtl":O.isLocaleRtl}])},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(l.b.manifest,(function(t,o){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{key:o,class:(0,n.normalizeClass)(o)},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(t,(function(t,o){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{key:o,class:"card mb-4"},[(0,n.createElementVNode)("div",d,["_"!==o[0]?((0,n.openBlock)(),(0,n.createElementBlock)("h4",{key:0,class:"mb-2 h5",textContent:(0,n.toDisplayString)(o)},null,8,m)):(0,n.createCommentVNode)("",!0),(0,n.createElementVNode)("div",p,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(t,(function(t,o){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{key:o,class:(0,n.normalizeClass)(["field p-1 pt-2 form-group",t.width])},[t.repeats>1?((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:0},[(0,n.createVNode)(z,{modelValue:L.form.v[t.name],"onUpdate:modelValue":function(e){return L.form.v[t.name]=e},"ghost-class":"ghost",handle:".dnd-handler_"+t.id,class:"row","item-key":"id"},{item:(0,n.withCtx)((function(o){o.element;var a=o.index;return[(0,n.createElementVNode)("div",{class:(0,n.normalizeClass)(["d-flex",t.repeatsWidth])},[(0,n.createElementVNode)("div",u,[(0,n.createElementVNode)("button",{type:"button",class:"btn btn-sm",onClick:function(e){return O.removeRepeatedField(t.name,a)},title:e.$t("Remove")+" "+t.label+" ("+(a+1)+")"},b,8,f),(0,n.createElementVNode)("button",{class:(0,n.normalizeClass)(["btn btn-sm","dnd-handler_"+t.id]),type:"button",title:e.$t("Reorder")+" "+t.label},v,10,k)]),(0,n.createElementVNode)("div",y,[(0,n.createElementVNode)("label",{for:t.id+a,class:"form-label"},[(0,n.createElementVNode)("span",{class:"fw-semibold",textContent:(0,n.toDisplayString)(t.label)},null,8,C),(0,n.createTextVNode)(" "+(0,n.toDisplayString)(a+1),1)],8,V),((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(t.component),{id:t.id+a,name:t.name+"["+a+"]",invalid:!!L.form.errors[t.name],modelValue:L.form.v[t.name][a],"onUpdate:modelValue":function(e){return L.form.v[t.name][a]=e},label:t.label,options:t.options,validation:t.validation,locale:l.locale,"is-locale-rtl":O.isLocaleRtl},null,8,["id","name","invalid","modelValue","onUpdate:modelValue","label","options","validation","locale","is-locale-rtl"])),t.description?((0,n.openBlock)(),(0,n.createElementBlock)("small",{key:0,id:t.id+a+"Help",class:"form-text text-muted",textContent:(0,n.toDisplayString)(t.description)},null,8,N)):(0,n.createCommentVNode)("",!0)])],2)]})),_:2},1032,["modelValue","onUpdate:modelValue","handle"]),(0,n.createElementVNode)("div",x,[(0,n.createElementVNode)("button",{style:{"--bs-btn-disabled-border-color":"transparent"},class:"btn text-primary fw-semibold d-flex align-items-center",onClick:function(e){return O.repeatField(t)},disabled:L.form.v[t.name].length>=t.repeats,type:"button",title:e.$t("Add")+" "+t.label},[g,h,(0,n.createElementVNode)("span",{textContent:(0,n.toDisplayString)(e.$t("Add")+" "+t.label)},null,8,B)],8,E)])],64)):((0,n.openBlock)(),(0,n.createElementBlock)(n.Fragment,{key:1},[(0,n.createElementVNode)("label",{class:"form-label fw-semibold",for:t.id,textContent:(0,n.toDisplayString)(t.label)},null,8,S),((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(t.component),{id:t.id,name:t.name,invalid:!!L.form.errors[t.name],modelValue:L.form.v[t.name],"onUpdate:modelValue":function(e){return L.form.v[t.name]=e},label:t.label,options:t.options,validation:t.validation,locale:l.locale,"is-locale-rtl":O.isLocaleRtl},null,8,["id","name","invalid","modelValue","onUpdate:modelValue","label","options","validation","locale","is-locale-rtl"])),t.description?((0,n.openBlock)(),(0,n.createElementBlock)("small",{key:0,id:t.id+"Help",class:"form-text text-muted",textContent:(0,n.toDisplayString)(t.description)},null,8,w)):(0,n.createCommentVNode)("",!0),L.form.errors[t.name]?((0,n.openBlock)(),(0,n.createElementBlock)("div",D,[(0,n.createElementVNode)("strong",{textContent:(0,n.toDisplayString)(Array.isArray(L.form.errors[t.name])?L.form.errors[t.name][0]:L.form.errors[t.name])},null,8,F)])):(0,n.createCommentVNode)("",!0)],64))],2)})),128))])])])})),128))],2)})),128))],2)],544)]})),_:1})],64)}]])}}]);
//# sourceMappingURL=Bread-Edit.js.map?id=d275039ac0d24607